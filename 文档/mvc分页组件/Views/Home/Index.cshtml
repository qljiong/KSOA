@{
    ViewBag.Title = "MvcPager 示例";
}
<div class="content">
      <h1>MvcPager 2.0 for ASP.NET MVC 4.0 简介</h1>
    <p> MvcPager分页控件是在<a href="http://www.asp.net/mvc/" target="_blank">ASP.NET MVC</a> Web应用程序中实现分页功能的一系列扩展方法，该分页控件的最初的实现方法借鉴了网上流行的部分源代码，
        尤其是<a href="http://weblogs.asp.net/scottgu" target="_blank">ScottGu</a>的PagedList&lt;T&gt;类和相关方法，经过站长不断完善和改进后推出的比较成熟而且功能强大的ASP.NET MVC分页解决方案。。</p>
 <h3>MvcPager主要功能：</h3>
    <ol>
        <li>实现最基本的url route分页；</li>
        <li>支持手工输入或选择页索引并对输入的页索引进行有效性验证；</li>
        <li>支持使用jQuery实现Ajax分页，生成的Html代码更精简；</li>
        <li>Ajax分页模式下支持在分页过程中通过GET或POST方法提交表单数据，实现查询功能；</li>
        <li>Ajax分页模式下支持浏览器历史记录功能（暂不支持IE7及早期版本和Opera浏览器）；</li>
        <li>Ajax分页模式下，若客户端浏览器不支持或禁用Javascript功能时优雅降级为普通分页</li>
        <li>搜索引擎友好，无论是普通分页还是Ajax分页，搜索引擎都可以直接搜索到所有页面。</li>
        <li>支持最新的ASP.NET MVC 4.0 版本；</li>
        <li>支持IE、Firefox、Opera、Chrome及Safari等常用浏览器；</li>
    </ol>
    <h3>更新说明</h3>
    MvcPager 2.0版在原1.5版的基础上进行了比较大的升级，重写了大量代码，新增了不少功能，优化了最终生成的html代码，尤其是在Ajax分页模式下，最终生成的html代码比1.5版减少了二倍以上，且html代码更符合html 5规范，主要更新说明如下：
    <ul>
        <li>新增 IPagedList&lt;T&gt;接口；</li>
        <li>新增 DisplayNameFor HtmlHelper扩展方法使其支持 IPagedList&lt;T&gt;和PagedList&lt;T&gt;；</li>
        <li>Ajax分页模式时浏览器历史记录支持（暂不支持IE7以下及Opera浏览器，下一版本中完善）；</li>
        <li>Ajax分页模式下支持在分页过程中，通过GET和POST自动提交查询条件，实现多条件查询功能；</li>
        <li>ToPagedList扩展方法新增了当前页索引超出总页数时改变当前页索引为最后一页的页索引，同时返回最后一页数据的功能；</li>
        <li>当MvcPager当前使用的路由定义中页索引参数的默认值为UrlParameter.Optional或页索引参数在路由参数中不存在时，生成的首页url将自动移除页索引参数，使其与默认首页url保持一致，利于SEO优化；</li>
        <li>PagerOptions新增FirstPageRouteName属性，指定第一页默认的路由名称，去掉页索引参数，优化SEO；</li>
        <li>解决分页时url中中文参数被反复编码的bug。</li>
        <li>移除PagerOptions.UseJqueryAjax属性；</li>
        <li>PagerOptions的SeperatorHtml属性更名为PagerItemsSeperator；</li>
        <li>移除HtmlHelper的AjaxPager扩展方法，Ajax分页模式统一使用AjaxHelper的Pager扩展方法，不再支持Microsoft Ajax，仅支持jQuery，与官方保持一致；</li>
        <li>Ajax.Pager扩展方法不再接受AjaxOptions参数，改为MvcAjaxOptions，MvcAjaxOptions继承自AjaxOptions;</li>
        <li>MvcAjaxOptions新增属性EnablePartialLoading，用于支持Ajax分页模式下局部加载功能；</li>
        <li>MvcAjaxOptions新增属性DataFormId，用于标识在Ajax分页模式下，分页时向服务器端通过Ajax提交的数据所在的Form和ID，用于实现Ajax分页模式下的查询功能；</li>
        <li>解决了PagerOptions.AlwaysShowFirstLastPageNumber为true时，第一页页索引按钮和更多页按钮显示不正确的问题；</li>
        <li>新增了两个PagedList构造函数；</li>
        <li>为IEnumerable&lt;T&gt;接口添加ToPagedList扩展方法；</li>
        <li>新增HtmlHelper扩展方法RegisterMvcPagerScriptResource，用于注册MvcPager的客户端jQuery插件脚本；</li>
        <li>MvcPager 2.0 for ASP.NET 4.0目标编译框架为.Net Framework 4.0，可用于目标框架为.Net Framework 4.0或4.5的ASP.NET MVC 4.0项目中；</li>
        <li>取消对ASP.NET MVC 2.0的支持，仅支持ASP.NET MVC 3.0以上版本；</li>
    </ul>
    <h3>升级说明：</h3>
    从MvcPager 1.5升级到2.0时，需注意以下事项：
    <ol>
        <li>原HtmlHelper的AjaxPager扩展方法已移除，需要改为使用AjaxHelper的Pager扩展方法；</li>
        <li>当需要使用页索引输入或下拉框以及使用Ajax分页模式时，必须用Html.RegisterMvcPagerScriptResource方法注册客户端脚本，否则无法正常分页；</li>
        <li>使用AjaxHelper的Pager扩展方法时，原AjaxOptions参数需改为MvcAjaxOptions；</li>
        <li>PagerOptions的SeperatorHtml属性改为PagerItemsSeperator；</li>
    </ol>
    <h3>运行最低需求：</h3>
    <ol><li>jQuery 1.7及以上版本；（仅当启用页索引输入或选择框以及使用Ajax分页模式时才必需）</li>
        <li>ASP.NET MVC 4.0及以上版本；</li>
    </ol>
    <h3>已知问题：</h3>
    <ol><li>Ajax分页模式下浏览器历史记录支持功能暂不支持IE7以下及Opera浏览器；</li>
        <li>Url中值为空的参数在分页后将被从Url中去除；如：/articles/show/2?cls=news&type= 在分页后type参数将丢失，Url变为：/articles/show/3?cls=news</li>
        <li>为AjaxForm使用Ajax分页查询功能时，web.config中的UnobtrusiveJavaScriptEnabled必须设为true（默认），否则会导致分页时数据被加载两次；</li>
    </ol>
    <p>若需获得帮助或提交意见反馈，请访问<a href="http://www.webdiyer.com" target="_blank">MvcPager官方网站</a></p>
</div>
